<!-- HTML header for doxygen 1.9.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Arm-2D: How to Use Layout Assistant</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="footer.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="version.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../version.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 55px;">
  <td id="projectlogo" style="padding: 1.5em;"><img alt="Logo" src="arm.png"/></td>
  <td style="padding-left: 1em; padding-bottom: 1em;padding-top: 1em;">
   <div id="projectname">Arm-2D
   &#160;<span id="projectnumber"><script type="text/javascript">
     <!--
     writeHeader.call(this);
     writeVersionDropdown(this);
     //-->
    </script>
   </span>
   </div>
   <div id="projectbrief">2D Image Processing Library for Cortex-M Processors</div>
  </td>
  <!--END !PROJECT_NAME-->
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_how_to_use_layout_assistant.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">How to Use Layout Assistant </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >When we use arm-2d for 2D image processing, almost all APIs need to specify the target Region. Especially for those users who need to use Arm-2D for simple UI design, how to place graphic elements and how to deal with the layout of the screen is essentially a problem of Region calculation. In order to free users from manual Region calculations, Arm-2D refers to the popular GUI layout methodology and provides a series of simple and easy-to-use Helpers in the form of macro templates, called Layout Assistant.</p>
<p >This article will introduce the use of Arm-2D Layout Assistant in detail through examples.</p>
<h1><a class="anchor" id="autotoc_md64"></a>
1 Basic Concepts</h1>
<p >We assume that you are getting into Arm-2D for the first time, so in order for you to understand the following content, we need to introduce some basic concepts first, such as Region, canvas, container and so on.</p>
<h2><a class="anchor" id="autotoc_md65"></a>
1.1 Region</h2>
<p >Region is a rectangular area described by the Location (the coordinates of the upper left corner) and the Size information.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a> {</div>
<div class="line">    <a class="code hl_define" href="group__gKernel.html#gabc7a8afaf410f95e3922d2fd904a016c" title="inherit a given class and give it an alias name">implement_ex</a>(<a class="code hl_struct" href="group__gKernel.html#structarm__2d__location__t" title="a type for coordinates (integer)">arm_2d_location_t</a>, tLocation);</div>
<div class="line">    <a class="code hl_define" href="group__gKernel.html#gabc7a8afaf410f95e3922d2fd904a016c" title="inherit a given class and give it an alias name">implement_ex</a>(<a class="code hl_struct" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a>, tSize);</div>
<div class="line">} <a class="code hl_struct" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a>;</div>
</div><!-- fragment --><p >**Figure 1-1 Region with Location and Size **</p>
<p ><img src="../documentation/pictures/Introduction2_1a.png" alt="Region with Location and Size" class="inline"/></p>
<h3><a class="anchor" id="autotoc_md66"></a>
1.1.1 Location</h3>
<p >The coordinate of the Region is defined by the vertices at the upper left corner of the bit rectangle. Its data structure is as follows:</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="group__gKernel.html#structarm__2d__location__t" title="a type for coordinates (integer)">arm_2d_location_t</a> {</div>
<div class="line">    int16_t <a class="code hl_variable" href="group__gKernel.html#afcfe4e9ad6eb4f402d0001a14d888e5f" title="x in Cartesian coordinate system">iX</a>;</div>
<div class="line">    int16_t <a class="code hl_variable" href="group__gKernel.html#ab6746d623416d076c3339cc9b44289b6" title="y in Cartesian coordinate system">iY</a>;</div>
<div class="line">} <a class="code hl_struct" href="group__gKernel.html#structarm__2d__location__t" title="a type for coordinates (integer)">arm_2d_location_t</a>;</div>
</div><!-- fragment --><p >Different from the general Cartesian coordinate system, in graphics, the Y-axis is usually mirrored in the opposite direction, which means that the lower the Y coordinate is, the larger the Y coordinate is. In the Boxing model that will be introduced later, we will understand that the <b>coordinates of a Region can be negative</b>, representing the position of the current Region relative to the starting point of its parent Region.</p>
<p ><b>Figure 1-2 When Location has a negative coordinates.</b></p>
<p ><img src="../documentation/pictures/Introduction2_1b.png" alt="When Location has a negative coordinates" class="inline"/></p>
<p >As shown in <b>Figure 1-2</b>, when the <em><b>x</b></em> and <em><b>y</b></em> coordinates of a Region are both negative, it actually has a considerable area outside (upper left corner) of its parent Region. When we try to find the intersection of the current Region and its parent Region, we will find that only part of the region is valid.</p>
<h3><a class="anchor" id="autotoc_md67"></a>
1.1.2 Size</h3>
<p >The size information of the Region is described by the Height and Width together. The data structure is defined as follows:</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a> {</div>
<div class="line">    int16_t <a class="code hl_variable" href="group__gKernel.html#a1aeaa9f863c682c26e8070d575667842" title="width of an rectangular area">iWidth</a>;</div>
<div class="line">    int16_t <a class="code hl_variable" href="group__gKernel.html#a44f7520235d22c8906b2c192442a0c31" title="height of an rectangular area">iHeight</a>;</div>
<div class="line">} <a class="code hl_struct" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a>;</div>
</div><!-- fragment --><p >Although a signed type <em><b>int16_t</b></em> is used to describe the width and height, negative numbers are meaningless and should be avoided.</p>
<h2><a class="anchor" id="autotoc_md68"></a>
1.2 Boxing Model</h2>
<p >The so-called Boxing Model describes the affiliation between Regions, which is often used to describe the relationship between containers and visual elements.</p>
<p >In a GUI stack, the Boxing Model usually talks about more complex stuff, such as the border's width, the margin inside a container border, the padding of / distance between the elements inside a container etc. Arm-2D does <em><b>NOT</b></em> cares about these details but only describes the simple relationship between a container and the elements inside.</p>
<h3><a class="anchor" id="autotoc_md69"></a>
1.2.1 Absolute Location and Relative Location</h3>
<p >In Arm-2d, we consider panels or windows as containers, and the Locations of the panels and the windows are their coordinates in the display buffer. <b>We call this kind of location information that directly describes the coordinates in a display buffer as an Absolute Location</b>. In <b>Figure 1-3</b>, the panel (top container) coordinates are absolute coordinates.</p>
<p >The coordinates of the elements inside a container are described as <b>coordinates relative to the upper left corner of the parent container</b>. We call this kind of Locations the <b>Relative Locations</b>. In addition to that, since the container is only a special element, container nesting becomes possible. In <b>Figure 1-3</b>, the two innermost Regions have Relative Locations.</p>
<p ><b>Figure 1-3 A Typical Example of Absolute Locations and Relative Locations</b></p>
<p ><img src="../documentation/pictures/Introduction2_2a.png" alt="A Typical Example of Absolute Locations and Relative Locations" class="inline"/></p>
<h3><a class="anchor" id="autotoc_md70"></a>
1.2.2 Absolute Region and Relative Region</h3>
<p >If a Region has absolute Location, it is an <b>Absolute Region</b>; similarly, if a Region has relative Location, it is a <b>Relative Region</b>.</p>
<p ><b>Figure 1-4 A Typical Example of Absolute Regions and Relative Regions</b></p>
<p ><img src="../documentation/pictures/Introduction2_2b.png" alt="A Typical Example of Absolute Regions and Relative Regions" class="inline"/></p>
<p >When we use these relative and absolute information to perform visual area calculations, it is easy to exclude those areas that are actually invisible to the user from various graphic operations, thereby improving the overall 2D processing performance (as shown in <b>Figure 1-4</b> ).</p>
<h2><a class="anchor" id="autotoc_md71"></a>
1.2 Canvas</h2>
<p >The essence of the canvas is Region. To draw on a Tile, we need to use <code>arm_2d_canvas()</code> to create a canvas first. The syntax is as follows:</p>
<div class="fragment"><div class="line">arm_2d_canvas(&lt;The address of the target tile&gt;, &lt;the canvas name&gt;) {</div>
<div class="line">    <span class="comment">/* the scope of the canvas */</span></div>
<div class="line">}</div>
</div><!-- fragment --><p >Here <code>arm_2d_canvas()</code> takes two parameters, i.e. the <b>address of the target Tile</b> and the <b>name of the canvas</b>. <code>arm_2d_canvas()</code> will create a canvas with the specified name for the specified Tile.</p>
<p ><b>NOTE</b>: Canvas cannot be used outside of curly braces.</p>
<p >For example:</p>
<div class="fragment"><div class="line"><span class="keyword">static</span></div>
<div class="line">IMPL_PFB_ON_DRAW(__pfb_draw_scene0_handler)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_define" href="group__gKernel.html#ga206ba077ba0d890fd0be935fc5d15dda" title="a macro to mark unused variables and let the compiler happy">ARM_2D_UNUSED</a>(ptTile); <span class="comment">/* the target screen */</span></div>
<div class="line">    ...</div>
<div class="line">    arm_2d_canvas(ptTile, __top_canvas) {</div>
<div class="line">        <span class="comment">/* place your drawing code here */</span></div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__gKernel.html#ga129e2a7110847b0fd22eeb6351205989" title="wait asynchronous operation complete">arm_2d_op_wait_async</a>(NULL);</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="group__gKernel.html#gga373f79d09c0d15653ca46ea08e0377fcacf7b5f9e66c44d332ea46d05860d78d1" title="fsm complete">arm_fsm_rt_cpl</a>;</div>
<div class="line">}</div>
</div><!-- fragment --><p >This is a typical scene drawing function, where <code>ptTile</code> points to the target Tile representing the screen. In order to draw on the screen, we need to create a canvas for it, namely <code>__top_canvas</code> in the example.</p>
<h2><a class="anchor" id="autotoc_md72"></a>
1.3 Container</h2>
<p >Region is just a descriptive information. How to interpret the meaning of Region depends entirely on which API we use. Similarly, when we use the canvas for layout, it often happens that the actual graphic elements exceed the scope of the canvas. At this point, whether to clip the excess part depends on the specific situation. But if we clearly want the part beyond the canvas to be clipped, then we need to introduce the concept of Container.</p>
<p >The essence of the container is a Child-Tile, and any content that exceeds the rectangular area of the child tile will be clipped. Via the macro <code>arm_2d_container()</code> we can easily create a container. The syntax is as follows:</p>
<div class="fragment"><div class="line">arm_2d_container(&lt;the address of the target tile&gt;, &lt;the name of the <span class="keyword">new</span> child tile&gt;, &lt;the address of the target region&gt;)</div>
</div><!-- fragment --><p >Here <code>arm_2d_container()</code> takes three parameters, i.e. the <b>address of the target Tile</b>, the <b>name of the new Child Tile</b>, and <b>the address of the target region</b>. <code>arm_2d_container()</code> will generate a new child tile with the name specified by the user according to the given target Region, and generate the corresponding canvas with <code>__canvas</code> as the suffix. For example, if we specify the name of the child tile as <code>my_container</code>, then the corresponding canvas is called <code>my_container_canvas</code>.</p>
<p ><b>NOTE</b>: <br  />
</p>
<ol type="1">
<li>The address of the target Region can be <code>NULL</code>. In this case, the child tile essentially coincides with the target Tile in size.</li>
<li>The child tile and the canvas cannot be used outside of curly braces.</li>
</ol>
<div class="fragment"><div class="line">RM_NONNULL(1)</div>
<div class="line">void control_template_show( user_control_template_t *ptThis,</div>
<div class="line">                            const <a class="code hl_struct" href="group__gKernel.html#structarm__2d__tile__t" title="a type for tile">arm_2d_tile_t</a> *ptTile, </div>
<div class="line">                            const <a class="code hl_struct" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a> *ptRegion, </div>
<div class="line">                            <span class="keywordtype">bool</span> bIsNewFrame)</div>
<div class="line">{</div>
<div class="line">    ...</div>
<div class="line"> </div>
<div class="line">    arm_2d_container(ptTile, __control, ptRegion) {</div>
<div class="line">        <span class="comment">/* put your drawing code inside here</span></div>
<div class="line"><span class="comment">         *    - &amp;__control is the target tile (please do not use ptTile anymore)</span></div>
<div class="line"><span class="comment">         *    - __control_canvas is the canvas</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line"> </div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__gKernel.html#ga129e2a7110847b0fd22eeb6351205989" title="wait asynchronous operation complete">arm_2d_op_wait_async</a>(NULL);</div>
<div class="line">}</div>
</div><!-- fragment --><p >The above example comes from the control template. In general GUI design, the part beyond the rectangular area of the control needs to be clipped, that's why we create a container for a user control.</p>
<h1><a class="anchor" id="autotoc_md73"></a>
2 Alignment</h1>
<p >In UI design, alignment is the most basic layout method. There are 9 alignments as shown in <b>Figure 2-1</b>:</p>
<p ><b>Figure 2-1 The 9 alignments</b></p>
<p ><img src="../documentation/pictures/HowToUseLayoutAssistant2_1.png" alt="" class="inline"/></p>
<p >Arm-2D provides macros with a unified style for these 9 alignments, as shown in <b>Table 2-1</b>:</p>
<p ><b>Table 2-1 Macros and Regions for the 9 alignments</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"></th><th class="markdownTableHeadNone">Left   </th><th class="markdownTableHeadNone">Central   </th><th class="markdownTableHeadNone">Right    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Top</b>   </td><td class="markdownTableBodyNone"><code>arm_2d_align_top_left()</code>: <code>__top_left_region</code>   </td><td class="markdownTableBodyNone"><code>arm_2d_align_top_centre()</code>: <code>__top_centre_region</code>   </td><td class="markdownTableBodyNone"><code>arm_2d_align_top_right()</code>: <code>__top_right_region</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Middle</b>   </td><td class="markdownTableBodyNone"><code>arm_2d_align_mid_left()</code>: <code>__mid_left_region</code>   </td><td class="markdownTableBodyNone"><code>arm_2d_align_centre()</code>: <code>__centre_region</code>   </td><td class="markdownTableBodyNone"><code>arm_2d_align_mid_right()</code>: <code>__mid_right_region</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Bottom</b>   </td><td class="markdownTableBodyNone"><code>arm_2d_align_bottom_left()</code>: <code>__bottom_left_region</code>   </td><td class="markdownTableBodyNone"><code>arm_2d_align_bottom_centre()</code>: <code>__bottom_centre_region</code>   </td><td class="markdownTableBodyNone"><code>arm_2d_align_bottom_right()</code>: <code>__bottom_right_region</code>   </td></tr>
</table>
<p >The syntax of these macros is as follows:</p>
<p ><b>Syntax 1:</b></p>
<div class="fragment"><div class="line">arm_2d_align_&lt;alignment&gt;(&lt;the target region: <a class="code hl_struct" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a>&gt;, &lt;the width of the target area: int16_t&gt;, &lt;the height of the target area: int16_t&gt;) {</div>
<div class="line">    <span class="comment">/* You can use a region called __&lt;alignment&gt;_region in the scope defined by the curly braces*/</span></div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><p >Here the macro helper <code>arm_2d_align_&lt;alignment&gt;</code> takes three arguments, i.e. the <b>target region object</b>, the <b>width</b> and <b>height</b> of the target area.</p>
<p ><b>NOTE</b>: Please pass the <b><a class="el" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a> object</b> to the macro helper as the target region but <b>NOT</b> the <b>address of an <a class="el" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a> object</b>.</p>
<p ><b>Syntax 2:</b></p>
<div class="fragment"><div class="line">arm_2d_align_&lt;alignment&gt;(&lt;the target region: <a class="code hl_struct" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a>&gt;, &lt;the size of the target area: <a class="code hl_struct" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a>&gt;) {</div>
<div class="line">    <span class="comment">/* You can use a region called __&lt;alignment&gt;_region in the scope defined by the curly braces*/</span></div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><p >Here the macro helper <code>arm_2d_align_&lt;alignment&gt;</code> takes two arguments, i.e. the <b>target region object</b> and the <b>size of the target area</b>.</p>
<p ><b>NOTE</b>:</p>
<ol type="1">
<li>Please pass an <b><a class="el" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a> object</b> to the macro helper as the target region but <b>NOT</b> the <b>address of an <a class="el" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a> object</b>.</li>
<li>Please pass an <b><a class="el" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a> object</b> to the macro helper as the size of the target area but <b>NOT</b> the <b>address of an <a class="el" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a> object</b>.</li>
</ol>
<p >Based on the syntax above, the code corresponding to <b>Figure 2-1</b> is as follows:</p>
<div class="fragment"><div class="line"><span class="keyword">static</span></div>
<div class="line">IMPL_PFB_ON_DRAW(__pfb_draw_scene0_handler)</div>
<div class="line">{</div>
<div class="line">    user_scene_0_t *ptThis = (user_scene_0_t *)pTarget;</div>
<div class="line">    <a class="code hl_define" href="group__gKernel.html#ga206ba077ba0d890fd0be935fc5d15dda" title="a macro to mark unused variables and let the compiler happy">ARM_2D_UNUSED</a>(ptTile);</div>
<div class="line">    <a class="code hl_define" href="group__gKernel.html#ga206ba077ba0d890fd0be935fc5d15dda" title="a macro to mark unused variables and let the compiler happy">ARM_2D_UNUSED</a>(bIsNewFrame);</div>
<div class="line">    </div>
<div class="line">    arm_2d_canvas(ptTile, __top_canvas) {</div>
<div class="line">        </div>
<div class="line">        arm_2d_fill_colour(ptTile, NULL, GLCD_COLOR_WHITE);</div>
<div class="line">        </div>
<div class="line">        arm_2d_align_top_left(__top_canvas, 60, 60 ) {</div>
<div class="line">            </div>
<div class="line">            draw_round_corner_border(   ptTile, </div>
<div class="line">                                        &amp;__top_left_region, </div>
<div class="line">                                        GLCD_COLOR_BLACK, </div>
<div class="line">                                        (arm_2d_border_opacity_t)</div>
<div class="line">                                            {32, 32, 255-64, 255-64},</div>
<div class="line">                                        (arm_2d_corner_opacity_t)</div>
<div class="line">                                            {0, 128, 128, 128});</div>
<div class="line">        }</div>
<div class="line">        arm_2d_align_top_centre(__top_canvas, 60, 60 ) {</div>
<div class="line">            </div>
<div class="line">            draw_round_corner_border(   ptTile, </div>
<div class="line">                                        &amp;__top_centre_region, </div>
<div class="line">                                        GLCD_COLOR_BLACK, </div>
<div class="line">                                        (arm_2d_border_opacity_t)</div>
<div class="line">                                            {32, 32, 255-64, 255-64},</div>
<div class="line">                                        (arm_2d_corner_opacity_t)</div>
<div class="line">                                            {0, 128, 128, 128});</div>
<div class="line">        }</div>
<div class="line">        arm_2d_align_top_right(__top_canvas, 60, 60 ) {</div>
<div class="line">            </div>
<div class="line">            draw_round_corner_border(   ptTile, </div>
<div class="line">                                        &amp;__top_right_region, </div>
<div class="line">                                        GLCD_COLOR_BLACK, </div>
<div class="line">                                        (arm_2d_border_opacity_t)</div>
<div class="line">                                            {32, 32, 255-64, 255-64},</div>
<div class="line">                                        (arm_2d_corner_opacity_t)</div>
<div class="line">                                            {0, 128, 128, 128});</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">        </div>
<div class="line">        arm_2d_align_mid_left(__top_canvas, 60, 60 ) {</div>
<div class="line">            </div>
<div class="line">            draw_round_corner_border(   ptTile, </div>
<div class="line">                                        &amp;__mid_left_region, </div>
<div class="line">                                        GLCD_COLOR_BLACK, </div>
<div class="line">                                        (arm_2d_border_opacity_t)</div>
<div class="line">                                            {32, 32, 255-64, 255-64},</div>
<div class="line">                                        (arm_2d_corner_opacity_t)</div>
<div class="line">                                            {0, 128, 128, 128});</div>
<div class="line">                                    </div>
<div class="line">        }</div>
<div class="line">        arm_2d_align_centre(__top_canvas, 60, 60 ) {</div>
<div class="line">            </div>
<div class="line">            draw_round_corner_border(   ptTile, </div>
<div class="line">                                        &amp;__centre_region, </div>
<div class="line">                                        GLCD_COLOR_BLACK, </div>
<div class="line">                                        (arm_2d_border_opacity_t)</div>
<div class="line">                                            {32, 32, 255-64, 255-64},</div>
<div class="line">                                        (arm_2d_corner_opacity_t)</div>
<div class="line">                                            {0, 128, 128, 128});</div>
<div class="line">                                    </div>
<div class="line">        }</div>
<div class="line">        arm_2d_align_mid_right(__top_canvas, 60, 60 ) {</div>
<div class="line">            </div>
<div class="line">            draw_round_corner_border(   ptTile, </div>
<div class="line">                                        &amp;__mid_right_region, </div>
<div class="line">                                        GLCD_COLOR_BLACK, </div>
<div class="line">                                        (arm_2d_border_opacity_t)</div>
<div class="line">                                            {32, 32, 255-64, 255-64},</div>
<div class="line">                                        (arm_2d_corner_opacity_t)</div>
<div class="line">                                            {0, 128, 128, 128});</div>
<div class="line">                                    </div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        arm_2d_align_bottom_left(__top_canvas, 60, 60 ) {</div>
<div class="line">            </div>
<div class="line">            draw_round_corner_border(   ptTile, </div>
<div class="line">                                        &amp;__bottom_left_region, </div>
<div class="line">                                        GLCD_COLOR_BLACK, </div>
<div class="line">                                        (arm_2d_border_opacity_t)</div>
<div class="line">                                            {32, 32, 255-64, 255-64},</div>
<div class="line">                                        (arm_2d_corner_opacity_t)</div>
<div class="line">                                            {0, 128, 128, 128});</div>
<div class="line">                                    </div>
<div class="line">        }</div>
<div class="line">        arm_2d_align_bottom_centre(__top_canvas, 60, 60 ) {</div>
<div class="line">            </div>
<div class="line">            draw_round_corner_border(   ptTile, </div>
<div class="line">                                        &amp;__bottom_centre_region, </div>
<div class="line">                                        GLCD_COLOR_BLACK, </div>
<div class="line">                                        (arm_2d_border_opacity_t)</div>
<div class="line">                                            {32, 32, 255-64, 255-64},</div>
<div class="line">                                        (arm_2d_corner_opacity_t)</div>
<div class="line">                                            {0, 128, 128, 128});</div>
<div class="line">                                    </div>
<div class="line">        }</div>
<div class="line">        arm_2d_align_bottom_right(__top_canvas, 60, 60 ) {</div>
<div class="line">            </div>
<div class="line">            draw_round_corner_border(   ptTile, </div>
<div class="line">                                        &amp;__bottom_right_region, </div>
<div class="line">                                        GLCD_COLOR_BLACK, </div>
<div class="line">                                        (arm_2d_border_opacity_t)</div>
<div class="line">                                            {32, 32, 255-64, 255-64},</div>
<div class="line">                                        (arm_2d_corner_opacity_t)</div>
<div class="line">                                            {0, 128, 128, 128});</div>
<div class="line">                                    </div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">    }</div>
<div class="line">    <a class="code hl_function" href="group__gKernel.html#ga129e2a7110847b0fd22eeb6351205989" title="wait asynchronous operation complete">arm_2d_op_wait_async</a>(NULL);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="group__gKernel.html#gga373f79d09c0d15653ca46ea08e0377fcacf7b5f9e66c44d332ea46d05860d78d1" title="fsm complete">arm_fsm_rt_cpl</a>;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md74"></a>
3 Layout</h1>
<p >When designing a graphical interface, in addition to the <b>alignment</b> described above, we usually want to arrage a stream of graphic elements to a specified area in sequence under certain rules. This process is often referred to as <b>layout</b>. Commonly used layout rules are:</p>
<ul>
<li><b>Line Stream Layout</b> (in vertical manner or horizontal manner)</li>
<li><b>Steam Layout with wrapping</b> (in vertical-first manner or horizontal-first manner)</li>
</ul>
<p >When doing layout, users only need to enumerate graphic elements, specify their sizes, and optionally specify the space (a.ka. <b>Padding</b>) among elements. During this process, the user does not need to manually calculate the coordinates of each element, which is very convenient.</p>
<h2><a class="anchor" id="autotoc_md75"></a>
3.1 Line Stream Layout</h2>
<p >The Line Stream Layout is a common layout method, which places elements in a specified area one by one.</p>
<p ><b>Note</b>: If any elements exceed the given area, the Line Stream Layout will not wrap when placing elements.</p>
<h3><a class="anchor" id="autotoc_md76"></a>
3.1.1 Horizontal Line Stream</h3>
<p >Horizontal placement is one of the common ways of Line Stream Layout. Its syntax is as follows:</p>
<div class="fragment"><div class="line">arm_2d_layout(&lt;the target region: <a class="code hl_struct" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a>&gt;) {</div>
<div class="line">    <span class="comment">/* Syntax 1 */</span></div>
<div class="line">    __item_line_horizontal(&lt;width&gt;, &lt;height&gt;) {</div>
<div class="line">        <span class="comment">/* you can use __item_region in the scope defined by the curly braces */</span></div>
<div class="line">        ...</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">/* Syntax 2 */</span></div>
<div class="line">    __item_line_horizontal(&lt;size of the element: <a class="code hl_struct" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a>&gt;) {</div>
<div class="line">        <span class="comment">/* you can use __item_region in the scope defined by the curly braces */</span></div>
<div class="line">        ...</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">/* more of the __item_line_horizontal segments */</span></div>
<div class="line">    ...</div>
<div class="line">    </div>
<div class="line">}</div>
</div><!-- fragment --><p >Here, <code>arm_2d_layout()</code> takes an <code><a class="el" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a></code> object as the target region and <code>__item_line_horizontal()</code> must be used inside the <code>arm_2d_layout()</code> structure. You can list as many <code>__item_line_horizontal()</code> segments as you want. <code>__item_line_horizontal()</code> takes two mandatory parameters, i.e. <b>width</b> and <b>height</b> or one <code><a class="el" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a></code> object as the size of the element.</p>
<p ><b>NOTE</b>:</p>
<ol type="1">
<li>Please pass an <b><a class="el" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a> object</b> to the macro helper <code>arm_2d_layout()</code> as the target region but <b>NOT</b> the <b>address of an <a class="el" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a> object</b>.</li>
<li>When using the <b>Syntax 2</b>, please pass an <b><a class="el" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a> object</b> to the macro helper <code>__item_line_horizontal()</code> as the size of the target element but <b>NOT</b> the <b>address of an <a class="el" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a> object</b>.</li>
</ol>
<p ><b>Figure 3-1</b> shows an simple example of the Line Stream Layout, which places four buttons in a line wihout and padding. In the source code, we mark the target area in red, so you can see that the 4th button is actually out of the region.</p>
<p ><b>Figure 3-1 A Horizontal Line Stream Layout Example</b></p>
<p ><img src="../documentation/pictures/HowToUseLayoutAssistant3_1_1.png" alt="" class="inline"/></p>
<p >The example code is shown below:</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> draw_buttom(<span class="keyword">const</span> <a class="code hl_struct" href="group__gKernel.html#structarm__2d__tile__t" title="a type for tile">arm_2d_tile_t</a> *ptTile, </div>
<div class="line">                        <a class="code hl_struct" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a> *ptRegion,</div>
<div class="line">                        <span class="keyword">const</span> <span class="keywordtype">char</span> *pchString,</div>
<div class="line">                        COLOUR_INT tColour,</div>
<div class="line">                        uint8_t chOpacity)</div>
<div class="line">{</div>
<div class="line">    </div>
<div class="line"> </div>
<div class="line">    <a class="code hl_struct" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a> tTextSize = ARM_2D_FONT_A4_DIGITS_ONLY</div>
<div class="line">                                .use_as__arm_2d_user_font_t</div>
<div class="line">                                    .use_as__arm_2d_font_t</div>
<div class="line">                                        .tCharSize;</div>
<div class="line">    tTextSize.<a class="code hl_variable" href="group__gKernel.html#a1aeaa9f863c682c26e8070d575667842" title="width of an rectangular area">iWidth</a> *= strlen(pchString);</div>
<div class="line"> </div>
<div class="line">    arm_2d_container(ptTile, __button, ptRegion) {</div>
<div class="line">        </div>
<div class="line">        draw_round_corner_border(   &amp;__button, </div>
<div class="line">                                    &amp;__button_canvas, </div>
<div class="line">                                    GLCD_COLOR_BLACK, </div>
<div class="line">                                    (arm_2d_border_opacity_t)</div>
<div class="line">                                        {32, 32, 32, 32},</div>
<div class="line">                                    (arm_2d_corner_opacity_t)</div>
<div class="line">                                        {32, 32, 32, 32});</div>
<div class="line">        </div>
<div class="line">        arm_2d_align_centre(__button_canvas, tTextSize) {</div>
<div class="line"> </div>
<div class="line">            arm_lcd_text_set_target_framebuffer((<a class="code hl_struct" href="group__gKernel.html#structarm__2d__tile__t" title="a type for tile">arm_2d_tile_t</a> *)&amp;__button);</div>
<div class="line">            arm_lcd_text_set_font((arm_2d_font_t *)&amp;ARM_2D_FONT_A4_DIGITS_ONLY);</div>
<div class="line">            arm_lcd_text_set_draw_region(&amp;__centre_region);</div>
<div class="line">            arm_lcd_text_set_colour(tColour, GLCD_COLOR_WHITE);</div>
<div class="line">            arm_lcd_text_set_opacity(chOpacity);</div>
<div class="line">            arm_lcd_printf(<span class="stringliteral">&quot;%s&quot;</span>, pchString);</div>
<div class="line">            arm_lcd_text_set_opacity(255);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span></div>
<div class="line">IMPL_PFB_ON_DRAW(__pfb_draw_scene0_handler)</div>
<div class="line">{</div>
<div class="line">    </div>
<div class="line">    arm_2d_canvas(ptTile, __top_canvas) {</div>
<div class="line">        </div>
<div class="line">        arm_2d_fill_colour(ptTile, NULL, GLCD_COLOR_WHITE);</div>
<div class="line"> </div>
<div class="line">        arm_2d_align_centre(__top_canvas, 100, 100 ) {</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">            <a class="code hl_function" href="group__gHelper.html#gacd0e2f64404ceef7412a3715c0bc47fd">arm_2d_helper_draw_box</a>( ptTile, </div>
<div class="line">                                    &amp;__centre_region, </div>
<div class="line">                                    1,</div>
<div class="line">                                    GLCD_COLOR_RED, </div>
<div class="line">                                    128);</div>
<div class="line">                </div>
<div class="line">            <a class="code hl_function" href="group__gKernel.html#ga129e2a7110847b0fd22eeb6351205989" title="wait asynchronous operation complete">arm_2d_op_wait_async</a>(NULL);</div>
<div class="line">            </div>
<div class="line">            arm_2d_layout(__centre_region) {</div>
<div class="line">                __item_line_horizontal(28,28) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;1&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_line_horizontal(28,28) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;2&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_line_horizontal(28,28) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;3&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_line_horizontal(28,28) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;4&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__gKernel.html#ga129e2a7110847b0fd22eeb6351205989" title="wait asynchronous operation complete">arm_2d_op_wait_async</a>(NULL);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="group__gKernel.html#gga373f79d09c0d15653ca46ea08e0377fcacf7b5f9e66c44d332ea46d05860d78d1" title="fsm complete">arm_fsm_rt_cpl</a>;</div>
<div class="line">}</div>
</div><!-- fragment --><p >If we want to clip the part out of the target area, as shown in <b>Figure 3-2</b>, we should use <code>arm_2d_container()</code>.</p>
<p ><b>Figure 3-2 Using Container for Region Clipping</b></p>
<p ><img src="../documentation/pictures/HowToUseLayoutAssistant3_1_2.png" alt="" class="inline"/></p>
<p >The corresponding code is as follows:</p>
<div class="fragment"><div class="line"><span class="keyword">static</span></div>
<div class="line">IMPL_PFB_ON_DRAW(__pfb_draw_scene0_handler)</div>
<div class="line">{</div>
<div class="line">    </div>
<div class="line">    arm_2d_canvas(ptTile, __top_canvas) {</div>
<div class="line">        </div>
<div class="line">        arm_2d_fill_colour(ptTile, NULL, GLCD_COLOR_WHITE);</div>
<div class="line"> </div>
<div class="line">        arm_2d_align_centre(__top_canvas, 100, 100 ) {</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">            <a class="code hl_function" href="group__gHelper.html#gacd0e2f64404ceef7412a3715c0bc47fd">arm_2d_helper_draw_box</a>( ptTile, </div>
<div class="line">                                    &amp;__centre_region, </div>
<div class="line">                                    1,</div>
<div class="line">                                    GLCD_COLOR_RED, </div>
<div class="line">                                    128);</div>
<div class="line">                </div>
<div class="line">            <a class="code hl_function" href="group__gKernel.html#ga129e2a7110847b0fd22eeb6351205989" title="wait asynchronous operation complete">arm_2d_op_wait_async</a>(NULL);</div>
<div class="line">            </div>
<div class="line">            arm_2d_container(ptTile, __panel, &amp;__centre_region) {</div>
<div class="line">            </div>
<div class="line">                arm_2d_layout(__panel_canvas) {</div>
<div class="line">                    __item_line_horizontal(28,28) {</div>
<div class="line">                        draw_buttom(&amp;__panel, &amp;__item_region, <span class="stringliteral">&quot;1&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                    }</div>
<div class="line">                    __item_line_horizontal(28,28) {</div>
<div class="line">                        draw_buttom(&amp;__panel, &amp;__item_region, <span class="stringliteral">&quot;2&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                    }</div>
<div class="line">                    __item_line_horizontal(28,28) {</div>
<div class="line">                        draw_buttom(&amp;__panel, &amp;__item_region, <span class="stringliteral">&quot;3&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                    }</div>
<div class="line">                    __item_line_horizontal(28,28) {</div>
<div class="line">                        draw_buttom(&amp;__panel, &amp;__item_region, <span class="stringliteral">&quot;4&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__gKernel.html#ga129e2a7110847b0fd22eeb6351205989" title="wait asynchronous operation complete">arm_2d_op_wait_async</a>(NULL);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="group__gKernel.html#gga373f79d09c0d15653ca46ea08e0377fcacf7b5f9e66c44d332ea46d05860d78d1" title="fsm complete">arm_fsm_rt_cpl</a>;</div>
<div class="line">}</div>
</div><!-- fragment --><p >In addition to the size information, <code>__item_line_horizontal()</code> can optionally accept 4 additional padding parameters for the left, right, top and bottom. The syntax is shown below:</p>
<div class="fragment"><div class="line">arm_2d_layout(&lt;the target region: <a class="code hl_struct" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a>&gt;) {</div>
<div class="line">    <span class="comment">/* Syntax 1 */</span></div>
<div class="line">    __item_line_horizontal(&lt;width&gt;, &lt;height&gt; [, &lt;left&gt;, &lt;right&gt;, &lt;top&gt;, &lt;bottom&gt;]) {</div>
<div class="line">        <span class="comment">/* you can use __item_region in the scope defined by the curly braces */</span></div>
<div class="line">        ...</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">/* Syntax 2 */</span></div>
<div class="line">    __item_line_horizontal(&lt;size of the element: <a class="code hl_struct" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a>&gt; [, &lt;left&gt;, &lt;right&gt;, &lt;top&gt;, &lt;bottom&gt;]) {</div>
<div class="line">        <span class="comment">/* you can use __item_region in the scope defined by the curly braces */</span></div>
<div class="line">        ...</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">/* more of the __item_line_horizontal segments */</span></div>
<div class="line">    ...</div>
<div class="line">    </div>
<div class="line">}</div>
</div><!-- fragment --><p ><b>Figure 3-3</b> shows the visual effects of four elements with different padding using the Horizontal Line Stream Layout.</p>
<p ><b>Figure 3-3 Different Paddings among Items</b></p>
<p ><img src="../documentation/pictures/HowToUseLayoutAssistant3_1_3.png" alt="" class="inline"/></p>
<p >The corresonponding code is as follows:</p>
<div class="fragment"><div class="line"><span class="keyword">static</span></div>
<div class="line">IMPL_PFB_ON_DRAW(__pfb_draw_scene0_handler)</div>
<div class="line">{</div>
<div class="line">    </div>
<div class="line">    arm_2d_canvas(ptTile, __top_canvas) {</div>
<div class="line">        </div>
<div class="line">        arm_2d_fill_colour(ptTile, NULL, GLCD_COLOR_WHITE);</div>
<div class="line"> </div>
<div class="line">        arm_2d_align_centre(__top_canvas, 200, 50 ) {</div>
<div class="line"> </div>
<div class="line">            <a class="code hl_function" href="group__gHelper.html#gacd0e2f64404ceef7412a3715c0bc47fd">arm_2d_helper_draw_box</a>( ptTile, </div>
<div class="line">                                    &amp;__centre_region, </div>
<div class="line">                                    1,</div>
<div class="line">                                    GLCD_COLOR_RED, </div>
<div class="line">                                    128);</div>
<div class="line">                </div>
<div class="line">            <a class="code hl_function" href="group__gKernel.html#ga129e2a7110847b0fd22eeb6351205989" title="wait asynchronous operation complete">arm_2d_op_wait_async</a>(NULL);</div>
<div class="line">            </div>
<div class="line">            arm_2d_container(ptTile, __panel, &amp;__centre_region) {</div>
<div class="line">            </div>
<div class="line">                arm_2d_layout(__panel_canvas) {</div>
<div class="line">                    __item_line_horizontal(28,28) {</div>
<div class="line">                        draw_buttom(&amp;__panel, &amp;__item_region, <span class="stringliteral">&quot;1&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                    }</div>
<div class="line">                    __item_line_horizontal(28,28, 2, 2, 10, 10) {</div>
<div class="line">                        draw_buttom(&amp;__panel, &amp;__item_region, <span class="stringliteral">&quot;2&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                    }</div>
<div class="line">                    __item_line_horizontal(28,28, 10, 10, 20, 20 ) {</div>
<div class="line">                        draw_buttom(&amp;__panel, &amp;__item_region, <span class="stringliteral">&quot;3&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                    }</div>
<div class="line">                    __item_line_horizontal(28,28) {</div>
<div class="line">                        draw_buttom(&amp;__panel, &amp;__item_region, <span class="stringliteral">&quot;4&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__gKernel.html#ga129e2a7110847b0fd22eeb6351205989" title="wait asynchronous operation complete">arm_2d_op_wait_async</a>(NULL);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="group__gKernel.html#gga373f79d09c0d15653ca46ea08e0377fcacf7b5f9e66c44d332ea46d05860d78d1" title="fsm complete">arm_fsm_rt_cpl</a>;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md77"></a>
3.1.2 Vertical Line Stream</h3>
<p >The Vertical Line Stream Layout is similar to the Horizontal Line Stream Layout described above. The only difference is the layout direction. The syntax is shown below:</p>
<div class="fragment"><div class="line">arm_2d_layout(&lt;the target region: <a class="code hl_struct" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a>&gt;) {</div>
<div class="line">    <span class="comment">/* Syntax 1 */</span></div>
<div class="line">    __item_line_vertical(&lt;width&gt;, &lt;height&gt; [, &lt;left&gt;, &lt;right&gt;, &lt;top&gt;, &lt;bottom&gt;]) {</div>
<div class="line">        <span class="comment">/* you can use __item_region in the scope defined by the curly braces */</span></div>
<div class="line">        ...</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">/* Syntax 2 */</span></div>
<div class="line">    __item_line_vertical(&lt;size of the element: <a class="code hl_struct" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a>&gt; [, &lt;left&gt;, &lt;right&gt;, &lt;top&gt;, &lt;bottom&gt;]) {</div>
<div class="line">        <span class="comment">/* you can use __item_region in the scope defined by the curly braces */</span></div>
<div class="line">        ...</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">/* more of the __item_line_vertical segments */</span></div>
<div class="line">    ...</div>
<div class="line">    </div>
<div class="line">}</div>
</div><!-- fragment --><p ><b>NOTE</b>:</p>
<ol type="1">
<li>Please pass an <b><a class="el" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a> object</b> to the macro helper <code>arm_2d_layout()</code> as the target region but <b>NOT</b> the <b>address of an <a class="el" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a> object</b>.</li>
<li>When using the <b>Syntax 2</b>, please pass an <b><a class="el" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a> object</b> to the macro helper <code>__item_line_vertical()</code> as the size of the target element but <b>NOT</b> the <b>address of an <a class="el" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a> object</b>.</li>
</ol>
<p ><b>Figure 3-4</b> shows the visual effects of four elements with the same padding using the Vertical Line Stream Layout.</p>
<p ><b>Figure 3-4 A Vertical Line Stream Layout Example with Padding</b></p>
<p ><img src="../documentation/pictures/HowToUseLayoutAssistant3_1_4.png" alt="" class="inline"/></p>
<p >The example code is shown below:</p>
<div class="fragment"><div class="line"><span class="keyword">static</span></div>
<div class="line">IMPL_PFB_ON_DRAW(__pfb_draw_scene0_handler)</div>
<div class="line">{</div>
<div class="line">    </div>
<div class="line">    arm_2d_canvas(ptTile, __top_canvas) {</div>
<div class="line">        </div>
<div class="line">        arm_2d_fill_colour(ptTile, NULL, GLCD_COLOR_WHITE);</div>
<div class="line"> </div>
<div class="line">        arm_2d_align_centre(__top_canvas, 120, 120 ) {</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">            <a class="code hl_function" href="group__gHelper.html#gacd0e2f64404ceef7412a3715c0bc47fd">arm_2d_helper_draw_box</a>( ptTile, </div>
<div class="line">                                    &amp;__centre_region, </div>
<div class="line">                                    1,</div>
<div class="line">                                    GLCD_COLOR_RED, </div>
<div class="line">                                    128);</div>
<div class="line">                </div>
<div class="line">            <a class="code hl_function" href="group__gKernel.html#ga129e2a7110847b0fd22eeb6351205989" title="wait asynchronous operation complete">arm_2d_op_wait_async</a>(NULL);</div>
<div class="line">            </div>
<div class="line">            </div>
<div class="line">            arm_2d_layout(__centre_region) {</div>
<div class="line">                __item_line_vertical(28, 28, 2, 2, 2, 2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;1&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_line_vertical(28, 28, 2, 2, 2, 2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;2&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_line_vertical(28, 28, 2, 2, 2, 2 ) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;3&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_line_vertical(28, 28, 2, 2, 2, 2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;4&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__gKernel.html#ga129e2a7110847b0fd22eeb6351205989" title="wait asynchronous operation complete">arm_2d_op_wait_async</a>(NULL);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="group__gKernel.html#gga373f79d09c0d15653ca46ea08e0377fcacf7b5f9e66c44d332ea46d05860d78d1" title="fsm complete">arm_fsm_rt_cpl</a>;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md78"></a>
3.2 Stream Layout with Wrapping</h2>
<p >Similar to the Line Stream Layout, the <b>Stream Layout</b> is a commonly used layout method, which places elements in a line and wraps before hitting the bundary of the target area.</p>
<h3><a class="anchor" id="autotoc_md79"></a>
3.2.1 Horizontal Stream</h3>
<p >Horizontal placement is one of the common ways of the Stream Layout. Its syntax is as follows:</p>
<div class="fragment"><div class="line">arm_2d_layout(&lt;the target region: <a class="code hl_struct" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a>&gt;) {</div>
<div class="line">    <span class="comment">/* Syntax 1 */</span></div>
<div class="line">    __item_horizontal(&lt;width&gt;, &lt;height&gt; [, &lt;left&gt;, &lt;right&gt;, &lt;top&gt;, &lt;bottom&gt;]) {</div>
<div class="line">        <span class="comment">/* you can use __item_region in the scope defined by the curly braces */</span></div>
<div class="line">        ...</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">/* Syntax 2 */</span></div>
<div class="line">    __item_horizontal(&lt;size of the element: <a class="code hl_struct" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a>&gt; [, &lt;left&gt;, &lt;right&gt;, &lt;top&gt;, &lt;bottom&gt;]) {</div>
<div class="line">        <span class="comment">/* you can use __item_region in the scope defined by the curly braces */</span></div>
<div class="line">        ...</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">/* more of the __item_horizontal segments */</span></div>
<div class="line">    ...</div>
<div class="line">    </div>
<div class="line">}</div>
</div><!-- fragment --><p ><b>NOTE</b>:</p>
<ol type="1">
<li>Please pass an <b><a class="el" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a> object</b> to the macro helper <code>arm_2d_layout()</code> as the target region but <b>NOT</b> the <b>address of an <a class="el" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a> object</b>.</li>
<li>When using the <b>Syntax 2</b>, please pass an <b><a class="el" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a> object</b> to the macro helper <code>__item_horizontal()</code> as the size of the target element but <b>NOT</b> the <b>address of an <a class="el" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a> object</b>.</li>
</ol>
<p ><b>Figure 3-5</b> shows a digits panel implemented with the Horizontal Stream Layout. Padding (2,2,2,2) is added to each element.</p>
<p ><b>Figure 3-5 A Horizontal Stream Layout Example: Digits Panel</b></p>
<p ><img src="../documentation/pictures/HowToUseLayoutAssistant3_2_1.png" alt="" class="inline"/></p>
<p >The corresponding source code is as follows:</p>
<div class="fragment"><div class="line"><span class="keyword">static</span></div>
<div class="line">IMPL_PFB_ON_DRAW(__pfb_draw_scene0_handler)</div>
<div class="line">{</div>
<div class="line">    </div>
<div class="line">    arm_2d_canvas(ptTile, __top_canvas) {</div>
<div class="line">        </div>
<div class="line">        arm_2d_fill_colour(ptTile, NULL, GLCD_COLOR_WHITE);</div>
<div class="line"> </div>
<div class="line">        arm_2d_align_centre(__top_canvas, 96, 128 ) {</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">            <a class="code hl_function" href="group__gHelper.html#gacd0e2f64404ceef7412a3715c0bc47fd">arm_2d_helper_draw_box</a>( ptTile, </div>
<div class="line">                                    &amp;__centre_region, </div>
<div class="line">                                    1,</div>
<div class="line">                                    GLCD_COLOR_RED, </div>
<div class="line">                                    128);</div>
<div class="line">                </div>
<div class="line">            <a class="code hl_function" href="group__gKernel.html#ga129e2a7110847b0fd22eeb6351205989" title="wait asynchronous operation complete">arm_2d_op_wait_async</a>(NULL);</div>
<div class="line">            </div>
<div class="line">            arm_2d_layout(__centre_region) {</div>
<div class="line">                __item_horizontal(28,28,2,2,2,2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;1&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_horizontal(28,28,2,2,2,2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;2&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_horizontal(28,28,2,2,2,2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;3&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_horizontal(28,28,2,2,2,2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;4&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_horizontal(28,28,2,2,2,2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;5&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_horizontal(28,28,2,2,2,2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;6&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_horizontal(28,28,2,2,2,2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;7&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_horizontal(28,28,2,2,2,2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;8&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_horizontal(28,28,2,2,2,2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;9&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_horizontal(28,28,34,34,2,2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;0&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__gKernel.html#ga129e2a7110847b0fd22eeb6351205989" title="wait asynchronous operation complete">arm_2d_op_wait_async</a>(NULL);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="group__gKernel.html#gga373f79d09c0d15653ca46ea08e0377fcacf7b5f9e66c44d332ea46d05860d78d1" title="fsm complete">arm_fsm_rt_cpl</a>;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md80"></a>
3.2.2 Vertical Stream</h3>
<p >The <b>Vertical Stream Layout</b> is similar to the <b>Horizontal Stream Layout</b> described above. The only difference is the layout direction. The syntax is shown below:</p>
<div class="fragment"><div class="line">arm_2d_layout(&lt;the target region: <a class="code hl_struct" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a>&gt;) {</div>
<div class="line">    <span class="comment">/* Syntax 1 */</span></div>
<div class="line">    __item_vertical(&lt;width&gt;, &lt;height&gt; [, &lt;left&gt;, &lt;right&gt;, &lt;top&gt;, &lt;bottom&gt;]) {</div>
<div class="line">        <span class="comment">/* you can use __item_region in the scope defined by the curly braces */</span></div>
<div class="line">        ...</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">/* Syntax 2 */</span></div>
<div class="line">    __item_vertical(&lt;size of the element: <a class="code hl_struct" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a>&gt; [, &lt;left&gt;, &lt;right&gt;, &lt;top&gt;, &lt;bottom&gt;]) {</div>
<div class="line">        <span class="comment">/* you can use __item_region in the scope defined by the curly braces */</span></div>
<div class="line">        ...</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">/* more of the __item_vertical segments */</span></div>
<div class="line">    ...</div>
<div class="line">    </div>
<div class="line">}</div>
</div><!-- fragment --><p ><b>NOTE</b>:</p>
<ol type="1">
<li>Please pass an <b><a class="el" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a> object</b> to the macro helper <code>arm_2d_layout()</code> as the target region but <b>NOT</b> the <b>address of an <a class="el" href="group__gKernel.html#structarm__2d__region__t" title="a type for an rectangular area">arm_2d_region_t</a> object</b>.</li>
<li>When using the <b>Syntax 2</b>, please pass an <b><a class="el" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a> object</b> to the macro helper <code>__item_vertical()</code> as the size of the target element but <b>NOT</b> the <b>address of an <a class="el" href="group__gKernel.html#structarm__2d__size__t" title="a type for the size of an rectangular area">arm_2d_size_t</a> object</b>.</li>
</ol>
<p ><b>Figure 3-6</b> shows a digits panel similar to the one shown in <b>Figure 3-5</b>. It is implemented with the Vertical Stream Layout and paddings are added.</p>
<p ><b>Figure 3-6 A Vertical Stream Layout Example: Digits Panel</b></p>
<p ><img src="../documentation/pictures/HowToUseLayoutAssistant3_2_2.png" alt="" class="inline"/></p>
<p >The example code is shown below:</p>
<div class="fragment"><div class="line"><span class="keyword">static</span></div>
<div class="line">IMPL_PFB_ON_DRAW(__pfb_draw_scene0_handler)</div>
<div class="line">{</div>
<div class="line">    </div>
<div class="line">    arm_2d_canvas(ptTile, __top_canvas) {</div>
<div class="line">        </div>
<div class="line">        arm_2d_fill_colour(ptTile, NULL, GLCD_COLOR_WHITE);</div>
<div class="line"> </div>
<div class="line">        arm_2d_align_centre(__top_canvas, 128, 96 ) {</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">            <a class="code hl_function" href="group__gHelper.html#gacd0e2f64404ceef7412a3715c0bc47fd">arm_2d_helper_draw_box</a>( ptTile, </div>
<div class="line">                                    &amp;__centre_region, </div>
<div class="line">                                    1,</div>
<div class="line">                                    GLCD_COLOR_RED, </div>
<div class="line">                                    128);</div>
<div class="line">                </div>
<div class="line">            <a class="code hl_function" href="group__gKernel.html#ga129e2a7110847b0fd22eeb6351205989" title="wait asynchronous operation complete">arm_2d_op_wait_async</a>(NULL);</div>
<div class="line">            </div>
<div class="line">            arm_2d_layout(__centre_region) {</div>
<div class="line">                __item_vertical(28,28,2,2,2,2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;1&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_vertical(28,28,2,2,2,2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;2&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_vertical(28,28,2,2,2,2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;3&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_vertical(28,28,2,2,2,2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;4&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_vertical(28,28,2,2,2,2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;5&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_vertical(28,28,2,2,2,2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;6&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_vertical(28,28,2,2,2,2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;7&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_vertical(28,28,2,2,2,2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;8&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_vertical(28,28,2,2,2,2) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;9&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">                __item_vertical(28,28,2,2,34,34) {</div>
<div class="line">                    draw_buttom(ptTile, &amp;__item_region, <span class="stringliteral">&quot;0&quot;</span>, GLCD_COLOR_BLUE, 64);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__gKernel.html#ga129e2a7110847b0fd22eeb6351205989" title="wait asynchronous operation complete">arm_2d_op_wait_async</a>(NULL);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="group__gKernel.html#gga373f79d09c0d15653ca46ea08e0377fcacf7b5f9e66c44d332ea46d05860d78d1" title="fsm complete">arm_fsm_rt_cpl</a>;</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <script type="text/javascript">
        <!--
        writeFooter.call(this);
        //-->
      </script> 
    </li>
  </ul>
</div>
</body>
</html>
